

## CRIANDO BANCO DE DADOS DE CONFIGURAÇÃO

A Camada de Configuração precisa de um banco de dados para armazenar os dados de configuração. A configuração desses bancos de dados envolve:

- criação do banco de dados no SGBD
- realmente instalando o Configuration Server porque os scripts SQL obrigatórios são disponibilizados pela instalação
- executar os scripts SQL que criam as tabelas dos bancos de dados e as preenchem com os dados iniciais.

A criação do banco de dados geralmente é deixada para o administrador do banco de dados. Criar as tabelas e preenchê-las também pode ser tarefa de um DBA dedicado, caso em que ele precisará dos scripts SQL que são copiados para o sistema de arquivos pela instalação do Configuration Server.


Comece criando os bancos de dados de configuração no DBMS e dando um nome ao banco de dados:


- Na classe, o nome é config;

**Execute scripts SQL para criar o banco de dados:**

init_mult(inicialization) - Este script inicializa o banco de dados e cria várias tabelas que começam com cfg que conterão os dados de configuração.

![image](https://user-images.githubusercontent.com/52088444/152177942-496f64e8-9452-4836-97f9-99a037b86830.png)


Cfglocale(localization)- Este script executa a localização. Ele preenche uma tabela cfg_locale e a preenche com informações específicas de idioma ou localização, como no exemplo abaixo: English data localized to French.

![image](https://user-images.githubusercontent.com/52088444/152178501-bd912512-a86f-4403-8b74-d34d814056aa.png)

Nota: no script CfgLocale - Este script é específico para a versão de idioma do Genesys que você está implementando; ele contém informações específicas do idioma que são usadas em nossas interfaces GUI. O exemplo acima está em francês.
## ARQUIVO DE CONFIGURAÇÃO (CONFIGURANTION FILE)

O arquivo de configuração do servidor de configuração é chamado confserv.cfg em Windowns(conf-serv.conf em unix) e é criado a partir dos valores iniciais inseridos durante a instalação. Você pode modificar esse arquivo, mas é necessário reiniciar para que as alterações entrem em vigor.
**O arquivo de configuração contém cinco seções:**
- configuration server section - seção do servidor de configuração [confserv] - Esta seção controla o comportamento(bahavior) do aplicativo.

![image](https://user-images.githubusercontent.com/52088444/152193580-32ab95ba-6135-4757-8003-dba846041c6d.png)
![image](https://user-images.githubusercontent.com/52088444/152193686-2e7ad122-56e8-4d7a-944d-57f0a3b4c8a7.png)

- log section-[log] - Esta seção controla as mensagens de log do aplicativo

- HCA section - [hca] - Esta seção controla a manutenção do histórico de mudanças, usado pelo info Mart- não abordado neste curso. A HCA alinha a análise de relatórios com as alterações de configuração.

- SOAP section - [soap] - Esta seção contém parâmetros de acesso do cliente SOAP - não abordados neste curso.

- DB Server section - [dbserver] - Esta seção controla o comportamento do aplicativo.


Veja a imagem abaixo para um exemplo de como o arquivo Configure é agrupado nas diferentes seções.

**confserv.cfg**
- opções para configuration server
- a instalação solicita e define muitos desses comandos(prompts)

O nome da opção(option-name) é mostrado abaixo:

[sections-name]
option-name = value
![image](https://user-images.githubusercontent.com/52088444/152195860-a11471b9-b39d-4975-bd0a-512548f978c6.png)

**Exemplo:**
![image](https://user-images.githubusercontent.com/52088444/152196140-7600c7f7-7ebe-4963-93a5-1c3edb366341.png)

Para obter informações detalhadas, consulte o Manual de Referência de Opções de Configurações da estrutura(framework Configurations Options )

## EXECUTAR O SERVIDOR DE CONFIGURAÇÃO(RUNNING CONFIGURATION SERVER)

Existem várias maneiras de executar o Configuration Server e exemplos dessas opções são:

- Serviços do Windows - Quando você executa a instalação, o Servidor de Configuração é instalado como um Serviço do Windows. Você pode usar o Windows Service para iniciar e parar o aplicativo Configuration Server. A configuração padrão é Startup Type =Automatic, portanto, o Configuration Server iniciará a inicialização automaticamente.

- Menu Iniciar do Windows - O servidor de configuração pode ser iniciado a partir do menu Iniciar. Você deve começar com o botão Iniciar e navegar por GenesysSolutions > Framework > Multitenant Configuration Server > Start Multitenant Configurations Server.

Nota: A Opção de Menu Iniciar do Windows não é normalmente usada em um ambiente de produção. Isso ocorre porque a execução do Configuration Server a partir do menu iniciar o abre em uma janela de consulta. Embora isso possa ser útil para solucionar problemas em um ambiente de produção, não é recomendado. Clicar dentro da janela de consulta pode congelar o Servidor de Configuração. Em um ambiente de produção, o Configuration Server é melhor executado como um serviço em segundo plano.

- Linha de comando: o servidor de configuração pode ser iniciado a partir da linha de comando abrindo uma janela de comando e digitando os parâmetros da linha de comando para iniciar o servidor de configuração.

![image](https://user-images.githubusercontent.com/52088444/152199081-14c79dd1-1121-43a8-a0c9-371fb84fed40.png)

## OPTIONAL COMMAND LINE  PARAMETERS(PARÂMETROS DE LINHA DE COMANDO OPCIONAIS)

O Configuration Server não requer nenhum dos parâmetros de linha de comando normalmente necessários para outros componentes do Genesys Server. No entanto, você pode adicionar alguns parâmetros de linha de comando especiais específicos ao Configuration Server para executar algumas tarefas especiais.


**Nota: Você pode usar confserv/? para obter informações sobre parâmetros de linha de comando (confserv.con no UNIX ou confserv.cfg no Windows)**

**Normal mode:**

*- c*

O Servidor de Configurações(Configuration Server) lê suas configurações de um arquivo de configuração(configurations file) com o nome especificado.Se você definir este parâmetro, seu valor substituirá o nome padrão do arquivo de configuração (confserv.conf no Unix ou confserv.cfg no Windows).

*-checkdb*

Uma instância do Configuration Server inicia , verifica a integridade do objeto de banco de dados e termina; todas as mensagens de logs são gravadas na saída de log.

*-checkerrors*

Uma instância do Configuration Server é iniciada, verifica a integridade do objeto do banco de dados e encerra as mensagens de log de erros são gravadas na saída do log.

![image](https://user-images.githubusercontent.com/52088444/152201557-de324a53-5aeb-4c37-ab1c-8c6c5a4924be.png)

